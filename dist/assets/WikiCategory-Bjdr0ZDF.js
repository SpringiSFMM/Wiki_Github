import{u,c as j,j as e,a as y}from"./index-Cf1eI5hH.js";import{d as k,r as i,L as c}from"./vendor-CPt1K6Li.js";import{q as b,g as N,U as f,o as v}from"./ui-Rj_xN0Fu.js";function C(){const{category:s}=k(),{isDarkMode:t}=u(),[n,m]=i.useState([]),[h,l]=i.useState(!0),[d,o]=i.useState(null),a=j.find(r=>r.slug===s);return i.useEffect(()=>{s&&(async()=>{try{l(!0);const g=(await y.get("/api/articles")).data.filter(p=>p.categorySlug===s);m(g),o(null)}catch(x){console.error("Fehler beim Laden der Artikel:",x),o("Die Artikel konnten nicht geladen werden. Bitte versuche es später erneut.")}finally{l(!1)}})()},[s]),a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:`rounded-xl ${t?"bg-dark-900/70 border border-dark-700":"bg-white border border-gray-200"}`,children:[e.jsx("div",{className:`px-8 py-6 border-b ${t?"border-dark-700":"border-gray-200"}`,children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(c,{to:"/wiki",className:`text-${t?"dark-300":"gray-600"} hover:text-cyto-400 transition-colors duration-300 text-sm`,children:"Wiki"}),e.jsx("span",{className:`text-${t?"dark-500":"gray-400"}`,children:"/"}),e.jsx("span",{className:`text-${t?"dark-200":"gray-900"} text-sm`,children:a.name})]}),e.jsxs("h1",{className:`text-3xl font-bold ${t?"text-dark-100":"text-gray-900"}`,children:[e.jsx("span",{className:"mr-3",children:a.icon}),a.name]}),e.jsx("p",{className:`mt-2 ${t?"text-dark-300":"text-gray-600"}`,children:a.description})]})})}),e.jsx("div",{className:"p-8",children:h?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("svg",{className:"animate-spin h-8 w-8 mx-auto text-cyto-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("p",{className:`mt-4 ${t?"text-dark-300":"text-gray-600"}`,children:"Artikel werden geladen..."})]}):d?e.jsxs("div",{className:`text-center py-12 ${t?"text-red-300":"text-red-600"}`,children:[e.jsx("p",{children:d}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-cyto-500 hover:bg-cyto-600 text-white rounded-md transition-colors",children:"Erneut versuchen"})]}):n.length===0?e.jsx("div",{className:`text-center py-12 ${t?"text-dark-300":"text-gray-600"}`,children:e.jsx("p",{children:"In dieser Kategorie wurden noch keine Artikel erstellt."})}):e.jsx("div",{className:"grid gap-4",children:n.map(r=>e.jsx(c,{to:`/wiki/${s}/${r.slug}`,className:`block p-6 rounded-lg border ${t?"bg-dark-800/50 border-dark-700 hover:border-dark-600":"bg-white border-gray-200 hover:border-gray-300"} transition-all duration-300 hover:shadow-lg`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-xl font-semibold mb-2 ${t?"text-dark-100":"text-gray-900"}`,children:r.title}),e.jsx("p",{className:`mb-4 ${t?"text-dark-300":"text-gray-600"}`,children:r.description||"Keine Beschreibung verfügbar."}),e.jsxs("div",{className:"flex items-center space-x-4",children:[r.lastUpdated&&e.jsxs("div",{className:`flex items-center text-sm ${t?"text-dark-400":"text-gray-500"}`,children:[e.jsx(N,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:r.lastUpdated})]}),r.author&&e.jsxs("div",{className:`flex items-center text-sm ${t?"text-dark-400":"text-gray-500"}`,children:[e.jsx(f,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:r.author})]})]})]}),e.jsx(v,{className:`h-5 w-5 ${t?"text-dark-400":"text-gray-400"}`})]})},r.slug))})})]})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:`p-8 rounded-xl ${t?"bg-dark-900/70 border border-dark-700":"bg-white border border-gray-200"}`,children:[e.jsx("h1",{className:`text-2xl font-bold mb-4 ${t?"text-dark-100":"text-gray-900"}`,children:"Kategorie nicht gefunden"}),e.jsx("p",{className:`mb-6 ${t?"text-dark-300":"text-gray-600"}`,children:"Die gesuchte Kategorie existiert leider nicht."}),e.jsxs(c,{to:"/wiki",className:"inline-flex items-center text-cyto-400 hover:text-cyto-300 transition-colors duration-300",children:[e.jsx(b,{className:"h-4 w-4 mr-1"}),"Zurück zur Wiki-Übersicht"]})]})})}export{C as WikiCategory,C as default};
