import{j as e,f as n,b as d,a as x}from"./index-Cf1eI5hH.js";import{L as i,d as m,b as h,r as g}from"./vendor-CPt1K6Li.js";import{o,U as k,g as j}from"./ui-Rj_xN0Fu.js";function y({article:r,isLoading:t}){return t?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-dark-300",children:"Loading..."})}):r?e.jsxs("div",{className:"min-h-screen bg-white dark:bg-dark-950",children:[e.jsx("div",{className:"bg-gray-50 dark:bg-dark-900 border-b border-gray-200 dark:border-dark-800",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-dark-300",children:[e.jsx(i,{to:"/wiki",className:"hover:text-cyto-600 dark:hover:text-neon-400",children:"Wiki"}),e.jsx(o,{className:"h-4 w-4"}),e.jsx(i,{to:`/wiki/category/${r.category.toLowerCase()}`,className:"hover:text-cyto-600 dark:hover:text-neon-400 capitalize",children:r.category}),e.jsx(o,{className:"h-4 w-4"}),e.jsx("span",{className:"text-cyto-600 dark:text-neon-400 truncate",children:r.title})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex gap-8",children:e.jsxs("div",{className:"flex-1 max-w-4xl mx-auto",children:[e.jsxs("article",{className:"bg-white dark:bg-dark-900 rounded-xl border border-gray-200 dark:border-dark-800 p-8",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-cyto-600 dark:text-neon-400 mb-4",children:r.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-gray-600 dark:text-dark-300",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:r.author})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Zuletzt aktualisiert: ",n(new Date(r.lastModified),"MMM d, yyyy")]})]})]})]}),e.jsx("div",{className:"prose prose-cyto dark:prose-invert max-w-none text-gray-800 dark:text-white",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:r.content},className:"text-gray-800 dark:text-white article-content",style:{fontSize:"1rem",lineHeight:"1.6"}})})]}),r.relatedArticles&&r.relatedArticles.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-cyto-600 dark:text-neon-400 mb-4",children:"Verwandte Artikel"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.relatedArticles.map(a=>e.jsxs(i,{to:`/wiki/${a.category.toLowerCase()}/${a.id}`,className:"p-4 bg-white dark:bg-dark-900 rounded-lg border border-gray-200 dark:border-dark-800 hover:border-cyto-500/50 dark:hover:border-neon-500/50 transition-colors",children:[e.jsx("h3",{className:"text-cyto-600 dark:text-neon-400 font-medium mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-dark-300 capitalize",children:a.category})]},a.id))})]})]})})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[e.jsx("h2",{className:"text-2xl font-bold text-dark-300 mb-4",children:"Article not found"}),e.jsxs(i,{to:"/wiki",className:"text-neon-400 hover:text-neon-300 flex items-center",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Back to Wiki"]})]})}function b(){const{category:r,article:t}=m(),a=h();g.useEffect(()=>{console.log("WikiArticle geladen mit Parametern:",{category:r,article:t})},[r,t]);const{data:c,isLoading:l,error:N}=d({queryKey:["article",r,t],queryFn:async()=>{console.log("Artikel wird geladen:",`/api/articles/${t}`);try{const s=await x.get(`/api/articles/${t}`);return console.log("Artikel geladen:",s.data),s.data}catch(s){throw console.error("Fehler beim Laden des Artikels:",s),s}},onSuccess:s=>{s&&s.category.toLowerCase()!==(r==null?void 0:r.toLowerCase())&&(console.log("Kategorie stimmt nicht Ã¼berein, leite weiter zu:",`/wiki/${s.category.toLowerCase()}/${s.id}`),a(`/wiki/${s.category.toLowerCase()}/${s.id}`,{replace:!0}))}});return e.jsx(y,{article:c,isLoading:l})}export{b as WikiArticle,b as default};
