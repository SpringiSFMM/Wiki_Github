import{e as o,b as m,j as e,a as d}from"./index-Cf1eI5hH.js";import{R as h,L as i}from"./vendor-CPt1K6Li.js";import{y as u,z as p,D as j,V as n}from"./ui-Rj_xN0Fu.js";function k(){const l=o(),[s,a]=h.useState(null),{data:r=[],isLoading:c}=m({queryKey:["articles"],queryFn:async()=>{const t=await d.get("/api/admin/articles");return Array.isArray(t.data)?t.data:[]}}),x=async t=>{try{await d.delete(`/api/admin/articles/${t}`),l.invalidateQueries({queryKey:["articles"]}),l.invalidateQueries({queryKey:["dashboardStats"]}),n.success("Article deleted successfully"),a(null)}catch{n.error("Failed to delete article")}};return c?e.jsx("div",{className:"h-[calc(100vh-4rem)] flex items-center justify-center",children:e.jsx("div",{className:"text-dark-300",children:"Loading..."})}):e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-neon-400",children:"All Articles"}),e.jsxs(i,{to:"/admin/articles/new",className:"flex items-center px-4 py-2 bg-neon-600 text-dark-950 rounded-lg hover:bg-neon-500 transition-colors",children:[e.jsx(u,{className:"h-5 w-5 mr-2"}),"New Article"]})]}),e.jsxs("div",{className:"bg-dark-900 rounded-xl border border-dark-800",children:[e.jsx("div",{className:"p-6 border-b border-dark-800",children:e.jsx("h2",{className:"text-xl font-semibold text-neon-400",children:"Articles"})}),e.jsx("div",{className:"overflow-x-auto",children:r.length===0?e.jsx("div",{className:"p-6 text-center text-dark-300",children:"No articles found. Create your first article!"}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-dark-800",children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-dark-200",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-dark-200",children:"Author"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-dark-200",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-dark-200",children:"Last Modified"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-dark-200",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-dark-200",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-dark-800",children:r.map(t=>e.jsxs("tr",{className:"hover:bg-dark-800/50",children:[e.jsx("td",{className:"px-6 py-4 text-dark-100",children:t.title}),e.jsx("td",{className:"px-6 py-4 text-dark-200",children:t.author}),e.jsx("td",{className:"px-6 py-4 text-dark-200",children:t.category}),e.jsx("td",{className:"px-6 py-4 text-dark-200",children:t.lastModified}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.status==="published"?"bg-green-500/10 text-green-400":"bg-yellow-500/10 text-yellow-400"}`,children:t.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(i,{to:`/admin/articles/${t.id}/edit`,className:"text-dark-200 hover:text-neon-400",children:e.jsx(p,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>a(t.id),className:"text-dark-200 hover:text-red-400",children:e.jsx(j,{className:"h-4 w-4"})})]})})]},t.id))})]})})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-dark-950/75 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-dark-900 rounded-xl p-6 max-w-md w-full border border-dark-800",children:[e.jsx("h3",{className:"text-xl font-semibold text-neon-400 mb-4",children:"Delete Article"}),e.jsx("p",{className:"text-dark-200 mb-6",children:"Are you sure you want to delete this article? This action cannot be undone."}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>a(null),className:"px-4 py-2 text-dark-200 hover:text-dark-100",children:"Cancel"}),e.jsx("button",{onClick:()=>s&&x(s),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})]})})]})}export{k as Articles};
